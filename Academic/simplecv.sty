\ProvidesPackage{simplecv}

% DOCUMENT LAYOUT
\usepackage{geometry} 
\geometry{a4paper, textwidth=6.5in, textheight=9in, marginparsep=7pt, marginparwidth=.6in}
\setlength\parindent{0in}

% to push the paragraphs aside so a text introduces them, like years and titles
\newcommand{\aside}[2]{
	\par\medskip\noindent#1\normalsize\hfill
	\begin{minipage}[t]{\dimexpr\linewidth-8em\relax}
		#2
	\end{minipage}\hspace{10pt}\mbox{}\par\medskip%\hspace{4em}
}


% FONTS
\usepackage{fontspec}
\usepackage[usenames,dvipsnames]{color}
% use sans family font
\renewcommand{\familydefault}{\sfdefault}

% PDF SETUP
\usepackage[
	bookmarks, 
	colorlinks, 
	breaklinks, 
	% ---- FILL IN HERE THE TITLE AND AUTHOR
	pdftitle={Sajed Zarinpour - vita},
	pdfauthor={Sajed Zarinpour},
	pdfproducer={https://github.com/sajed-zarrinpour}
]{hyperref}  
\hypersetup{linkcolor=blue,citecolor=blue,filecolor=black,urlcolor=MidnightBlue}

% HELPER COMMANDS

\newcommand{\seperatorcolor}{\textcolor{Cerulean}} % color theme
\newcommand{\raisedrulefill}[2][0ex]{\leaders\hbox{\rule[#1]{1pt}{#2}}\hfill}% Raised Rule Command: Arg 1 (Optional) - How high to raise the rule, Arg 2 - Thickness of the rule
\newcommand{\slimseperator}{\seperatorcolor{\raisedrulefill[0.4ex]{.5pt}}} % the slim seperator
\newcommand{\seperator}{\seperatorcolor{\raisedrulefill[0.4ex]{4pt}}} % seperator

% NAME
\newcommand{\name}[1]{
	{\fontsize{40}{70} \selectfont#1}\\ %name
	[0.5cm] % leave some space after name
}

% contact information section
\usepackage{multicol}
\newcommand{\contactInfo}[4]{
\textcolor{gray}{#1}\\
\textcolor{gray}{Phone: \hspace{.7em}\texttt{#2}}\\
\textcolor{gray}{Email: \hspace{1.1em}\href{mailto:#3}{#3}}\\
\textcolor{gray}{LinkedIn: \href{#4}{#4}}
}

% resume headline
\newcommand{\headline}[1]{
	\begin{center}
		\vspace{.5cm}\LARGE #1  \normalsize\normalfont\\[.5cm]	
	\end{center}
}

\usepackage{forarray} % to use foreach on arrays
% for rendering skills in horizontal bullet list
\usepackage{paralist}
\newcommand{\skills}[1]{% Updated skills formatting
    \begin{itemize}[noitemsep,leftmargin=*] % Compact list
        \itemsep0em 
        \ForEach{,}{\item \thislevelitem}{#1}
    \end{itemize}
}
% \newcommand{\skills}[1]{
% 		\begin{inparaitem}
% 			\ForEach
% 			{,} %seperator
% 			{\item \thislevelitem \hspace{3pt}} %for loop body
% 			{ #1} %string input holding items seperated by seperator
% 		\end{inparaitem}
% }
% option 2: uncomment next 3 lines:
%\usepackage[inline]{enumitem}
%\newlist{skills}{enumerate*}{1}
%\setlist[skills]{label=â€¢}
% though, you have to use it manually in the tex file using the following command:
%\begin{skills}
%	\item
%\end{skills}
% language lvl
\newcommand{\languagelvl}[1]{
	\small\em\bfseries #1 \normalfont
}

% define how a section lookslike:
\usepackage[explicit]{titlesec}
\titleformat{\section}{\Large}{\thesection. }{0em}{
%	\years{\seperator}
\bfseries #1 \normalfont
\seperator
}

% template for education entries, usage : \eduEntry{years}{Institute}{degree}{thesis}
% \newcommand{\eduEntry}[5]{
% 	\aside{#1}{
% 		 \bfseries{#2}, \normalsize\normalfont#3\\
% 		\normalfont #4
% 		\color{gray}#5\normalsize\normalfont
% 	}
% }
\newcommand{\eduEntry}[4]{% Updated education entry
    \textbf{#2} \hfill #1 \\
    \textit{#3} \\ % Institute italicized
    #4  % Degree/Thesis information
}

\newcommand{\packageEntry}[3]{% Updated education entry
    \textbf{#2} \hfill #1 \\
    #3  % Degree/Thesis information
}


% template for experience entries, usage : \expEntry{years}{Title}{company}{city}{Achievements}
% \newcommand{\expEntry}[5]{
% 	\aside{#1}{
% 		\large\bfseries{#2} at \normalfont #3, #4	
		
% 		 #5
% 		\defaultfontfeatures{Mapping=tex-text}
% 		\normalsize\normalfont\vspace{.2cm}
% 	}
% }
\newcommand{\expEntry}[5]{% Updated experience entry
    \textbf{#2} \hfill #1 \\ % Title and date on same line
    \textit{#3}, #4 \\ % Company and city italicized
    \begin{itemize}[noitemsep,leftmargin=*]
        \ForEach{;}{\item \thislevelitem}{#5} % Use semicolon as separator in explist
    \end{itemize}
}


% template for experience entries, use : \explist{item1;item2}
\newcommand{\explist}[1]{
		\begin{itemize}
			\setlength\itemsep{0em} %reducing the vertical space between entries
			\ForEach
			{;} % seperator
			{ \item \thislevelitem } % processing each item
			{ #1 } % string of ; seperated values
		\end{itemize}
}

\usepackage{multicol}
\newcommand{\interestslist}[1]{
		\begin{multicols}{2}
			\begin{itemize}
				\setlength\itemsep{0em} %reducing the vertical space between entries
				\ForEach
				{,} % seperator
				{ \item \thislevelitem } % processing each item
				{ #1 } % string of , seperated values
			\end{itemize}
		\end{multicols}
}


% template for experience entries, usage : \expEntry{years}{Title}{company}{city}{Achievements}
\newcommand{\confEntry}[3]{
	\aside{#1}{
		\bfseries{#2}\\ 
		\normalfont\em\small #3
		\normalsize\normalfont\vspace{.2cm}
	}
}

% template for experience entries, usage : \expEntry{years}{Title}{company}{city}{Achievements}
\newcommand{\refEntry}[5]{ 
		\bfseries{#2} \normalfont #1
		
		\vspace{.2cm}
		\indent\hspace{.2cm} Job: #3\\
		\indent\hspace{.2cm} Email: #4,\\
		\indent\hspace{.2cm} Address #5
		\normalsize\normalfont\\	  
}


% tags theme
\usepackage[skins]{tcolorbox}
\newtcolorbox{tagbox}[1][]{
		colback=blue!10!white,
		arc=5pt,
		auto outer arc,
		boxrule=0pt,
		enhanced jigsaw,
		nobeforeafter,
		width=2cm,
		height=.5cm,
		boxsep=0pt,
		halign=center,
		valign=center,
		box align=center,
		colupper={black}, 
	%	fontupper={\bfseries},
		top=\fboxsep,
		bottom=\fboxsep,
		left=\fboxsep,
		right=\fboxsep,
		baseline=\fboxsep,
		#1
	}

\newcommand{\sotagbox}[2][]{% \sotagbox{Julia}
	\begin{tagbox}[#1]%
		#2
	\end{tagbox}%
}

\newcommand{\bold}[1]{
	\bfseries #1 \normalfont
}

\newcommand{\languageEnry}[2]{
	#1 - \small\em\bfseries #2 \normalfont
}

\newcommand{\selfAssessedEng}[5]{
	\aside{Understanding:}{\skills{ Listening #1,  Reading #2}}
	\aside{Speaking:}{\skills{Spoken Interaction #3, Spoken Production #4}}	
	\aside{Writing:}{\skills{#5}}
	 	
	\small According to \href{https://europass.cedefop.europa.eu/resources/european-language-levels-cefr}{European language levels}: Basic user (A1, A2) - Independent user (B1, B2) - Proficient user (C1, C2) \normalfont
}
























